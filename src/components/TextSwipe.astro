---
interface Props {
  class?: string;
  class1?: string;
  class2?: string;
  duration?: string;
}

const { class: className, class1, class2, duration = "300" } = Astro.props;

const text1 = await Astro.slots.render("text1");
const text2 = Astro.slots.has("text2")
  ? await Astro.slots.render("text2")
  : text1;
---

<div
  class:list={[
    "swipe-animation relative overflow-hidden cursor-pointer uppercase",
    className,
  ]}
  style={`--duration: ${duration}ms`}
>
  <div class="grid grid-cols-1 grid-rows-1">
    <span class:list={["block col-start-1 row-start-1", class1]}>
      <Fragment set:html={text1} />
    </span>
    <span
      class:list={["block col-start-1 row-start-1", class2]}
      aria-hidden="true"
    >
      <Fragment set:html={text2} />
    </span>
  </div>
</div>

<style>
  .swipe-animation span {
    transition: transform var(--duration) cubic-bezier(0.85, 0, 0.15, 1);
  }

  .swipe-animation span:nth-child(2) {
    transform: translateY(100%);
  }

  .swipe-animation:hover span:nth-child(1),
  :global(.group:hover) .swipe-animation span:nth-child(1) {
    transform: translateY(-101%);
  }

  .swipe-animation:hover span:nth-child(2),
  :global(.group:hover) .swipe-animation span:nth-child(2) {
    transform: translateY(0);
  }
</style>
